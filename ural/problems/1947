<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>1947. Meander @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/problem.aspx?num=1947"><LINK REL="alternate" HREFLANG="en-us" HREF="/problem.aspx?num=1947&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/problem.aspx?num=1947&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style47.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY ALINK="#1A5CC8" VLINK="#1A5CC8" LINK="#1A5CC8"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="body"><TR><TD CLASS="caption"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" CLASS="locale"><A HREF="/problem.aspx?num=1947&amp;locale=en">ENG</A>&nbsp;&nbsp;<A HREF="/problem.aspx?num=1947&amp;locale=ru">RUS</A></TD><TD CLASS="title"><A HREF="/">Timus Online Judge</A></TD><TD WIDTH="130"></TD></TR></TABLE></TD></TR><TR><TD CLASS="panel"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="130" VALIGN="TOP" ALIGN="CENTER" STYLE="padding-bottom:5px;"><A HREF="/"><IMG BORDER="0" SRC="/images/usu-summer.jpg" HEIGHT="134" WIDTH="106" ALT=""></A></TD><TD VALIGN="TOP" ALIGN="LEFT"><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" CLASS="panel"><TR><TH WIDTH="25%"><DIV>Online Judge</DIV></TH><TH WIDTH="25%"><DIV>Problems</DIV></TH><TH WIDTH="25%"><DIV>Authors</DIV></TH><TH WIDTH="25%"><DIV>Online contests</DIV></TH></TR><TR><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/">About Online Judge</A><BR><A HREF="/help.aspx?topic=faq">Frequently asked questions</A><BR><A HREF="/news.aspx">Site news</A><BR><A HREF="/forum/">Webboard</A><BR><A HREF="/help.aspx?topic=links">Links</A><BR></TD><TD VALIGN="TOP" ALIGN="LEFT"><A HREF="/problemset.aspx">Problem set</A><BR><A HREF="/submit.aspx">Submit solution</A><BR><A HREF="/status.aspx">Judge status</A><BR><A HREF="/help.aspx?topic=judge">Guide</A><BR></TD><TD VALIGN="TOP"><A HREF="/register.aspx">Register</A><BR><A HREF="/authedit.aspx">Update your info</A><BR><A HREF="/ranklist.aspx">Authors ranklist</A><BR><FORM ACTION="/search.aspx" METHOD="GET" STYLE="margin:0.6em 0em 0em 0em;"><INPUT NAME="Str" SIZE="12" VALUE="" PLACEHOLDER="Author’s name"> <INPUT TYPE="SUBMIT" VALUE="Search"></FORM></TD><TD VALIGN="TOP"><A HREF="/contest.aspx">Current contest</A><BR><A HREF="/schedule.aspx">Scheduled contests</A><BR><A HREF="/archive.aspx">Past contests</A><BR><A HREF="/help.aspx?topic=contest">Rules</A><BR></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR><TD STYLE="padding-top: 32px; padding-bottom: 20px;"><TABLE ALIGN="CENTER" CELLSPACING="0" CELLPADDING="0"><TR><TD WIDTH="800"><DIV CLASS="problem_content"><H2 class="problem_title">1947. Meander</H2><DIV class="problem_limits">Time limit: 1.0 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><IMG SRC="/image/get.aspx/74460019-8c97-4a7c-99ae-938d5f4460cd" BORDER="0" ALT="Problem illustration" ALIGN="RIGHT" CLASS="problem_raimage"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Robot Grand Master E2E4 lost disgracefully in 128th-finals of the Galaxy 
Meander Championships. He practically won the party, but then made an incredible 
mistake: he simply didn’t notice the winning move! Inspired by this mistake 
his counterpart used the opportunity and won. It seems that some piece of 
E2E4’s artificial brain started hiccupping. Will you manage to help the 
robot quickly so that he never loses meander games in this shameful way?</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">To play meander, 24 square tiles are used. They are laid out on the 
square board of 25 squares so that one square is always unoccupied. If one 
looks at the board from above, he can see that 12 tiles have pattern
of the first type, and the other 12 tiles have pattern
of the second type (see the picture on the right).
Example initial position is shown in the picture.</DIV></DIV><IMG SRC="/image/get.aspx/7b3ac4f3-1ada-43ca-97ff-dfd25e15efb0" BORDER="0" ALT="Problem illustration" ALIGN="LEFT" CLASS="problem_laimage"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Players make moves in turns. In one move a player can simultaneously move 
one, two, three or four tiles along one of the sides of the playing board. 
Tiles are moved on the surface of the board, they can’t be turned. The 
game goes on until one of the players wins by making a pattern in 
which at least three tiles form a solid line connecting two edges of the 
board (either opposite or adjacent). Such a 
pattern is shown in the picture on the left (the line connects the left 
and the bottom edges of the board).</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Write a program which defines if the specified pattern is winning, and 
if not, whether there exists a winning move.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Input data represents five lines each containing five symbols. Symbol “*” 
marks an empty square. Symbol “/” marks the pattern of the first type,
and symbol “\” marks the pattern of the second type.
It is guaranteed that the input data contains exactly one symbol “*”, 
12 symbols “/”, and 12 symbols “\”.</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Output “WIN” if the pattern is already winning. If it is not winning, but 
there is a move that makes it so, print this move. The move is 
described with two symbols: the first one specifies the direction of the move 
(“L” is left, “R” is right, “D” is down, “U” is up), and the second one specifies 
the amount of the tiles moved (from 1 to 4). For example, “U2” means 
“Move two tiles up”. If there are several moves, making the 
specified pattern winning, output any of them. If the pattern is not 
victorious and it cannot be made victorious in one move, output “FAIL”.</DIV></DIV><H3 CLASS="problem_subtitle">Samples</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE CLASS="intable">*/\//
\/\\\
\////
/\\\\
\//\/
</PRE></TD><TD><PRE CLASS="intable">WIN
</PRE></TD></TR><TR><TD><PRE CLASS="intable">\/\/\
\/\//
//\/*
\\\/\
\//\/
</PRE></TD><TD><PRE CLASS="intable">D2
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Andrey Demidov<BR><B>Problem Source: </B>Open Ural FU Personal Contest 2012<BR></DIV></DIV></DIV><DIV><B>Tags: </B>none  <SPAN CLASS="problem_tags_toggle">(<FORM METHOD="POST" ACTION="problem.aspx?space=1&amp;num=1947" STYLE="display:inline; margin:0;" ID="ToggleTagsForm"><A HREF="problem.aspx?space=1&amp;num=1947" ONCLICK="document.getElementById('ToggleTagsForm').submit();return false;"><INPUT TYPE="hidden" NAME="Action" VALUE="HideTags">hide tags for unsolved problems</A></FORM>)</SPAN></DIV><DIV CLASS="problem_links"><SPAN>Difficulty: 1245</SPAN>    <A HREF="print.aspx?space=1&amp;num=1947" TARGET="_blank">Printable version</A>    <A HREF="submit.aspx?space=1&amp;num=1947">Submit solution</A>    <A HREF="forum/?space=1&amp;num=1947">Discussion (0)</A><BR><A HREF="status.aspx?space=1&amp;num=1947">All submissions (269)</A>    <A HREF="status.aspx?space=1&amp;num=1947&amp;status=accepted">All accepted submissions (132)</A>    <A HREF="rating.aspx?space=1&amp;num=1947">Solutions rating (98)</A></DIV></TD></TR></TABLE></TD></TR><TR><TD CLASS="footer"><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({id:20918869, webvisor:true, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript>© 2000–2016 <A HREF="/team.aspx">Timus Online Judge Team</A>. All rights reserved.</TD></TR></TABLE></BODY></HTML>
